<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Selected Works</title>
  <link rel="stylesheet" href="../css/global.css">
  <link rel="stylesheet" href="../css/Header.css">
  <link rel="stylesheet" href="../css/SelectedWorksSection.css">
  <link rel="stylesheet" href="../css/Footer.css">
</head>
<body>
  <div id="header-container"></div>
  <main>
    <section class="selected-works-section" id="works">
      <h2><span class="highlight">SELECTED</span> WORKS</h2>
      <div class="works-grid">
        <div class="work-item video-thumb" id="sw-video-1" data-video-src="https://www.youtube.com/embed/8JncZmV0Ov0">
          <img src="https://img.youtube.com/vi/8JncZmV0Ov0/hqdefault.jpg" alt="Video thumbnail" style="width:100%;height:100%;object-fit:cover;cursor:pointer;">
          <span class="work-hover-text" id="sw-video-1-title">Loading...</span>
        </div>
        <div class="work-item video-thumb" id="sw-video-2" data-video-src="https://www.youtube.com/embed/buAZBDrp1t0">
          <img src="https://img.youtube.com/vi/buAZBDrp1t0/hqdefault.jpg" alt="Video thumbnail" style="width:100%;height:100%;object-fit:cover;cursor:pointer;">
          <span class="work-hover-text" id="sw-video-2-title">Loading...</span>
        </div>
        <div class="work-item video-thumb" id="sw-video-3" data-video-src="https://www.youtube.com/embed/6URs9GMbSf8">
          <img src="https://img.youtube.com/vi/6URs9GMbSf8/hqdefault.jpg" alt="Video thumbnail" style="width:100%;height:100%;object-fit:cover;cursor:pointer;">
          <span class="work-hover-text" id="sw-video-3-title">Loading...</span>
        </div>
        <div class="work-item empty">
          Ảnh/Video 4
          <span class="work-hover-text">Ảnh/Video 4</span>
        </div>
        <div class="work-item empty">
          Ảnh/Video 5
          <span class="work-hover-text">Ảnh/Video 5</span>
        </div>
        <div class="work-item empty">
          Ảnh/Video 6
          <span class="work-hover-text">Ảnh/Video 6</span>
        </div>
        <div class="work-item empty">
          Ảnh/Video 7
          <span class="work-hover-text">Ảnh/Video 7</span>
        </div>
        <div class="work-item empty">
          Ảnh/Video 8
          <span class="work-hover-text">Ảnh/Video 8</span>
        </div>
        <div class="work-item empty">
          Ảnh/Video 9
          <span class="work-hover-text">Ảnh/Video 9</span>
        </div>
      </div>
      <div id="video-overlay" class="video-overlay" style="display:none;">
        <div class="video-overlay-content">
          <button id="close-video-overlay" class="close-video-overlay">&times;</button>
          <div class="video-responsive">
            <iframe width="100%" height="100%" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </section>
  </main>
  <div id="footer-container"></div>
  <script src="../js/main.js"></script>
  <script>
    // Chỉ load header/footer riêng cho trang này, không dùng loadAllComponents
    document.addEventListener('DOMContentLoaded', async function() {
      try {
        // Đợi một chút để main.js khởi tạo xong
        await new Promise(resolve => setTimeout(resolve, 50));
        
        if (typeof ComponentLoader !== 'undefined') {
          await ComponentLoader.loadComponent('../components/Header.html', 'header-container');
          await ComponentLoader.loadComponent('../components/Footer.html', 'footer-container');
          
          // Highlight trang hiện tại sau khi load header
          ComponentLoader.highlightCurrentPage();
          
          // Khởi tạo navigation
          if (typeof NavigationManager !== 'undefined') {
            NavigationManager.init();
          }
        }
      } catch (error) {
        console.error('Error loading components:', error);
      }
    });

    // Gọi fetchYouTubeTitle cho 3 video
    fetchYouTubeTitle('8JncZmV0Ov0', 'sw-video-1-title');
    fetchYouTubeTitle('buAZBDrp1t0', 'sw-video-2-title');
    fetchYouTubeTitle('6URs9GMbSf8', 'sw-video-3-title');
  </script>
</body>
</html>
